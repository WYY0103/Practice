<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>

        function flatten(obj) {
            var result = Array.isArray(obj) ? [] : {};
            for (var i in obj) {
                partition(result, i, obj[i]);
            }
            return result;


        }

        function partition(result, key, param) {
            if (Array.isArray(param)) {
                for (var i in param) {
                    partition(result, key + "[" + i + "]", param[i]);
                }

            }
            else if (param instanceof Object) {
                for (var i in param) {
                    partition(result, key + "." + i, param[i]);
                }

            }
            else {
                result[key] = param;
            }

        }

        let obj = {
            "a": 1,
            "b": 2,
            "c": [3, 4, { z: true }, [3]],
            "d": [5, 6],
            "e": { f: 7, g: 8 },
            "h": null
        }


        console.log(flatten(arr));
    </script>

</body>

</html>